package cmsz.rd.opentest.cmd;

/**
 * Created by admin on 2017/4/29.
 */

public class Scp {
    public  static  void copy2remote(String localpath, String username, String remotehost, String remotepath){
        String cmdline="scp " + localpath + " " + username +"@" + remotehost + ":" + remotepath ;
        execute(cmdline);
    }

    public  static void copy2remote(String localpath, String remotehost, String remotepath){
        String cmdline="scp "+ localpath +"  " +remotehost +":"+ remotepath;
        execute(cmdline);
    }

    public static  void  copy2remote(String localpath, String remoteURI){
        String cmdline = "scp "+ localpath +" "+ remoteURI;
        execute(cmdline);
    }

    public static  void copy2local(String username, String remotehost, String remotepath, String localpath){
        String cmdline="scp " + username+"@"+remotehost+":"+remotehost+" " + localpath;
        execute(cmdline);
    }

    public static void copy2local(String remotehost, String remotepath, String localpath){
        String cmdline ="scp "+ remotehost+":"+ remotepath +" "+localpath;
        execute(cmdline);
    }

    public static void copy2local(String remoteURI, String localpath){
        String cmdline="scp "+ remoteURI +" "+ localpath;
        execute(cmdline);
    }

    public static void execute(String cmdline){
        Shell.exec(cmdline,
                new SimpleChecker(new String[]{
                        "lost connection",
                        "No such file or directory",
                        "Permission denied",
                        "timed out"
                }));
    }
}
